#  vim   使用
## 文件打开
- vim   -o  file1  file2   水平分割打开多个文件
- vim  -O   file1  file2   垂直分割打开多个文件
## 移动光标
- w  **下一个单词首**
- e  当前单词尾
- E  移动下一个单词词尾
- b  **当前单词首**
- B  移动上一个单词词首
- h  **左一个字符**
- l  **右一个字符**
- k  **上一个字符**
- j  **下一个字符**
- 0  **行首第一个字符**
- $  **行尾**
-  ^  **行首第一个非空白字符**
- gg **文件头**
- G  **文件尾**
- ( ) 句子首/尾
- { } 段落首/尾
##  滚动
- zz        **将当前行滚动屏幕中间**
- zt        将当前行滚动屏幕顶部
- zb        将当前行滚动屏幕底部
- ctrl + e  向下滚动一行
- ctrl + y  向上滚动一行
- ctrl + d  **向下滚动半屏**
- ctrl + u  **向上滚动半屏**
- ctrl + f  向下滚动一屏
- ctrl + b  向上滚动一屏
- H         到屏幕头
- M         **到屏幕中间**
- L         到屏幕尾 
## 插入
- i  **当前字符前插入**
- a  **当前字符后插入**
- I  当前行首前插入
- A  当前行尾插入
- o  **当前行下一行插入**
- O  当前行上一行插入
- \>>**缩进**
- << **缩退**
## 替换
- ra              将当前字符替换成a
- s/old/new/      提换当前行第一个
- s/old/new/g     替换当前行所有
- %s/old/new/     替换所有行第一个
- %s/old/new/g    **替换所有行全部**
- 10,20 s/^/    /g  10-20行首增加4个空格（缩进)
## 查找
- /text	 	   **向下查找**（n -下一个， N -上一个）
- ?text            **向上查找**
## 撤销
- u                **撤销**
- U                撤销上一行
- ctrl + r         **重做** redo
## 删除
- x                **删除光标后字符**
- X                **删除光标前的字符**
- c                删除并进入插入模式
- dd               **删除当前行**
- daw              **删除当前单词**
- D		   **删除当前字符至行尾**
- d$               删除当前字符至行尾
- dj               删除当前行的下一行
- dk               删除当前行的上一行
- dkgg             删除当前行上的所有行（不含当前行）
- djG		   删除当前行下的所有行（不含当前行）
- dG           **删除当前行至文件尾**
- 2,5d		   删除2-5行
- 5,$d             删除第5行之后所有行
- 10d              删除当前行之后的10行
- J                删除2**行之间的空行**， 合并2行
##  复制剪切
- yy               **复制**
- yy               **复制当前行**
- nyy              **复制当前行下的**n行
- p                **当前光标后黏贴**
- P                当前光标前黏贴
- ddp              **交换当前行和下一行**
- 2,10 co 20       将2-10行内容复制插入到20行后
- 5,$  co $        将5行至文件结尾复制到文件最后
- 5,10 m 20        将5-10行内容移动到20行后
- ndd              **剪切复制当前行后n行**
## 多窗口
- ctrl + w +s     **水平打开新窗口**
- ctrl + w +v     垂直打开新窗口
- split  file     水平打开一个新窗口文件
- vsplit  file    垂直打开一个新窗口文件
- ctrl + w +w     **窗口间转换**
- :wqall           全部保存并退出
- :wall            全部保存
- :qall            全部退出
- :close           关闭窗口
## 文件
- :x               **保存并退出**
- :w               **保存文件**
- :w file          保存到文件file
- ZZ               **保存并退出**
- ZQ               **不保存退出**
- :q               **退出**
- :r file          **读取文件到当前行的下一行**
##  其他
- %               **全文**
- +#              相对（偏移量）
- .               当前行
- v               **字符选定**
- V               **行选定**
- ctrl+v          **块选定**
- %               **匹配括号**
- ~               大小写转换
- ！              执行命令
- m[a-z]	      **标记**
- ~[a-z]          定位到某标记 
##  设置
- set nu          **设置显示行号**
- set nonu        取消显示行号
- syntax  on      **设置语法高亮**
- syntax  off     取消语法高亮
- set hls         设置搜索高亮
- set nohls       取消搜索高亮
- set ic          **忽略大小写**
- set noic        取消忽略大小写
- set sm          **设置括号匹配高亮**
- set nosm        取消匹配高亮
- set ai          **设置自动缩进**
- set noai        取消自动缩进
- set expandtab    **设置空格替代**tab
- set tabstop=4    tab是4个空格
- set softtabstop=4 tab是4个空格


**PEP8**

要支持PEP8风格的缩进，请在在用户主目录下的 ~/.vimrc 文件中添加下面的代码：

au BufNewFile,BufRead *.py
\ set tabstop=4
\ set softtabstop=4
\ set shiftwidth=4
\ set textwidth=79
\ set expandtab
\ set autoindent
\ set fileformat=unix
\ set encoding=utf-8

*****************************************************==========================================VIM ==============================

# 打开单个文件
vim file    
# 同时打开多个文件
vim file1 file2..  
# 在vim窗口中打开一个新文件
:open [file]       
【举个例子】
# 当前打开1.txt，做了一些编辑没保存
:open!         放弃这些修改，并重新打开未修改的文件
# 当前打开1.txt，做了一些编辑并保存
:open 2.txt    直接退出对1.txt的编辑，直接打开2.txt编辑，省了退出:wq再重新vim 2.txt的步骤
# 打开远程文件，比如ftp或者share folder
:e ftp://192.168.10.76/abc.txt
:e \qadrive\test\1.txt
# 以只读形式打开文件，但是仍然可以使用 :wq! 写入
vim -R file 
# 强制性关闭修改功能，无法使用 :wq! 写入
vim -M file 

3、插入命令
i 在当前位置生前插入
I 在当前行首插入
a 在当前位置后插入
A 在当前行尾插入
o 在当前行之后插入一行
O 在当前行之前插入一行

4、查找命令
最简单的查找
/text　　查找text，按n健查找下一个，按N健查找前一个。
?text　　查找text，反向查找，按n健查找下一个，按N健查找前一个。
vim中有一些特殊字符在查找时需要转义　　.*[]^%/?~$
:set ignorecase　　忽略大小写的查找
:set noignorecase　　不忽略大小写的查找
快速查找，不需要手打字符即可查找
*        向后（下）寻找游标所在处的单词
#        向前（上）寻找游标所在处的单词
以上两种查找，n,N 的继续查找命令依然可以适用
精准查找：匹配单词查找
如果文本中有这三个单词
hellohelloworldhellopython
那我使用 /hello ，这三个词都会匹配到。
有没有办法实现精准查找呢？你可以使用
/hello\>
精准查找：匹配行首、行末
# hello位于行首
/^hello
# world位于行末
/world$

5、替换命令
~  反转游标字母大小写
r<字母>           将当前字符替换为所写字母
R<字母><字母>...  连续替换字母
cc    替换整行（就是删除当前行，并在下一行插入）
cw    替换一个单词（就是删除一个单词，就进入插入模式），前提是游标处于单词第一个字母（可用b定位）
C     (大写C)替换至行尾（和D有所区别，D是删除（剪切）至行尾，C是删除至行位并进入插入模式）
:s/old/new/    用old替换new，替换当前行的第一个匹配
:s/old/new/g   用old替换new，替换当前行的所有匹配
:%s/old/new/   用old替换new，替换所有行的第一个匹配
:%s/old/new/g  用old替换new，替换整个文件的所有匹配
:10,20 s/^/ /g 在第10行至第20行每行前面加四个空格，用于缩进。
ddp    交换光标所在行和其下紧邻的一行。

6、撤销与重做
u 撤销（Undo）
U 撤销对整行的操作
Ctrl + r 重做（Redo），即撤销的撤销。
7、删除命令
需要说明的是，vim 其实并没有单纯的删除命令，下面你理解为剪切更加准确。
以字符为单位删除
x   删除当前字符
3x  删除当前字符3次
X   删除当前字符的前一个字符。
3X  删除当前光标向前三个字符
dl  删除当前字符， dl=x
dh  删除前一个字符，X=dh
D   删除当前字符至行尾。D=d$
d$  删除当前字符至行尾
d^  删除当前字符之前至行首
以单词为单位删除
dw  删除当前字符到单词尾
daw 删除当前字符所在单词
以行为单位删除
dd  删除当前行
dj  删除下一行
dk  删除上一行
dgg  删除当前行至文档首部
d1G  删除当前行至文档首部
dG   删除当前行至文档尾部
kdgg  删除当前行之前所有行（不包括当前行）
jdG   删除当前行之后所有行（不包括当前行）
10d     删除当前行开始的10行。
:1,10d  删除1-10行
:11,$d  删除11行及以后所有的行
:1,$d   删除所有行
J　　   删除两行之间的空行，实际上是合并两行。

8、复制粘贴
普通模式中使用y复制
yy   复制游标所在的整行（3yy表示复制3行）
y^   复制至行首，或y0。不含光标所在处字符。
y$   复制至行尾。含光标所在处字符。
yw   复制一个单词。
y2w  复制两个单词。
yG   复制至文本末。
y1G  复制至文本开头。
普通模式中使用p粘贴
p(小写)：代表粘贴至光标后（下边，右边）
P(大写)：代表粘贴至光标前（上边，左边）

9、剪切粘贴
dd    其实就是剪切命令，剪切当前行
ddp   剪切当前行并粘贴，可实现当前行和下一行调换位置
正常模式下按v（逐字）或V（逐行）进入可视模式
然后用jklh命令移动即可选择某些行或字符，再按d即可剪切
ndd 剪切当前行之后的n行。利用p命令可以对剪切的内容进行粘贴
:1,10d 将1-10行剪切。利用p命令可将剪切后的内容进行粘贴。
:1, 10 m 20 将第1-10行移动到第20行之后。

10、退出保存
:wq 保存并退出
ZZ 保存并退出
:q! 强制退出并忽略所有更改
:e! 放弃所有修改，并打开原来文件。
ZZ 保存并退出
:sav(eas) new.txt  另存为一个新文件，退出原文件的编辑且不会保存
:f(ile) new.txt    新开一个文件，并不保存，退出原文件的编辑且不会保存

11、移动命令
以字符为单位移动
h   左移一个字符
l   右移一个字符
k   上移一个字符
j   下移一个字符
# 【定位字符】f和F
fx    找到光标后第一个为x的字符
3fd   找到光标后第三个为d的字符
F   同f，反向查找。
以行为单位移动
# 10指代所有数字，可任意指定
10h  左移10个字符
10l  右移10个字符
10k  上移10行
10j  下移10行
$   移动到行尾 
3$  移动到下面3行的行尾
以单词为单位移动
w  向前移动一个单词（光标停在单词首部）
b  向后移动一个单词
e，同w，只不过是光标停在单词尾部
ge 同b，光标停在单词尾部。
以句为单位移动
(   移动到句首
)   移动到句尾
跳转到文件的首尾
gg  移动到文件头。 = [[  == ``
G   移动到文件尾。 = ]]
其他移动方法
^   移动到本行第一个非空白字符上。
0   移动到本行第一个字符上(可以是空格)
使用 具名标记 跳转，个人感觉这个很好用，因为可以跨文件。
使用 ma ，可以将此处标记为 a，使用 'a 进行跳转
使用 :marks 可以查看所有的标记
使用 :delm！可以删除所有的标记
当在查看错误日志时，正常的步骤是，vim打开文件，然后使用 shift+g  再跳转到最后一行，这里有个更简单的操作可以在打开文件时立即跳到最后一行。只要在 vim 和 文件 中间加个 + 即可。
vim + you.log
举一反三，当你想打开文件立即跳转到指定行时，可以这样
# 打开文件并跳转到 20 行
vim you.log +20
当你使用 / 搜索定位跳转或者使用 :行号 进行精准跳转时，有时我们想返回到上一次的位置，如何实现？
只要使用 Ctrl+o 即可返回上一次的位置。

12、排版功能
缩进
:set shiftwidth?   查看缩进值
:set shiftwidth=4  设置缩进值为4
# 缩进相关 最好写到配置文件中  ~/.vimrc
:set tabstop=4
:set softtabstop=4
:set shiftwidth=4
:set expandtab
>>   向右缩进
<<   取消缩进
如何你要对代码进行缩进，还可以用 == 对当前行缩进，如果要对多行对待缩进，则使用 n==，这种方式要求你所编辑的文件的扩展名是被vim所识别的，比如.py文件。
排版
:ce   居中
:le   靠左
:ri   靠右

13、注释命令
多行注释
进入命令行模式，按ctrl + v进入 visual block模式，然后按j, 或者k选中多行，把需要注释的行标记起来
按大写字母I，再插入注释符，例如//
按esc键就会全部注释了
取消多行注释
进入命令行模式，按ctrl + v进入 visual block模式，按字母l横向选中列的个数，例如 // 需要选中2列
按字母j，或者k选中注释符号
按d键就可全部取消注释
复杂注释
:3,5 s/^/#/g 注释第3-5行
:3,5 s/^#//g 解除3-5行的注释
:1,$ s/^/#/g 注释整个文档
:1,$ s/^#//g 取消注释整个文档
:%s/^/#/g 注释整个文档，此法更快
:%s/^#//g 取消注释整个文档

14、调整视野
"zz"：命令会把当前行置为屏幕正中央，
"zt"：命令会把当前行置于屏幕顶端
"zb"：则把当前行置于屏幕底端.
Ctrl + e 向下滚动一行
Ctrl + y 向上滚动一行
Ctrl + d 向下滚动半屏
Ctrl + u 向上滚动半屏
Ctrl + f 向下滚动一屏
Ctrl + b 向上滚动一屏
【跳到指定行】：两种方法
可以先把行号打开
:set nu  打开行号
:20    跳到第20行
20G    跳到第20行

15、区域选择
要进行区域选择，要先进入可视模式
v   以字符为单位，上下左右选择
V   以行为单位，上下选择
选择后可进行操作
d   剪切/删除
y   复制
Ctrl+v   如果当前是V(大写)模式，就变成v(小写)
         如果当前是v(小写)模式，就变成普通模式。
         如果当前是普通模式，就进入v(小写)模式
利用这个，可以进行多行缩进。
ggVG   选择全文

16、窗口控制
新建窗口
# 打开两个文件分属两个窗口
vim -o 1.txt 2.txt
# 假设现在已经打开了1.txt
:sp 2.txt   开启一个横向的窗口，编辑2.txt
:vsp 2.txt  开启一个竖向的窗口，编辑2.txt
:split        将当前窗口再复制一个窗口出来，内容同步，游标可以不同
:split 2.txt  在新窗口打开2.txt的横向窗口
# 需要注意：内容同步，但是游标位置是独立的
Ctrl-w s    将当前窗口分成水平窗口
Ctrl-w v    将当前窗口分成竖直窗口
Ctrl-w q    等同:q 结束分割出来的视窗。
Ctrl-w q!   等同:q! 结束分割出来的视窗。
Ctrl-w o    打开一个视窗并且隐藏之前的所有视窗
窗口切换
，如下：
# 特别说明：Ctrl w <字母> 不需要同时按
Ctrl-w h    切换到左边窗口
Ctrl-w l    切换到右边窗口
Ctrl-w j    切换到下边窗口
Ctrl-w k    切换到上边窗口
# 特别说明：全屏模式下
:n    切换下一个窗口
:N    切换上一个窗口
:bp   切换上一个窗口
# 特别说明：非全屏模式
:bn    切换下一个窗口，就当前位置的窗口的内容变了，其他窗口不变
:bN    切换上一个窗口，就当前位置的窗口的内容变了，其他窗口不变
窗口移动
# 特别说明：Ctrl w <字母> 不需要同时按
Ctrl-w J   将当前视窗移至最下面
Ctrl-w K   将当前视窗移最上面
Ctrl-w H   将当前视窗移至最左边
Ctrl-w L   将当前视窗移至最右边
Ctrl-ww    按顺序切换窗口
调整尺寸
# 友情提示：键盘切记不要处于中文状态
Ctrl-w +   增加窗口高度
Ctrl-w -   减少窗口高度
退出窗口
:close    关闭当前窗口
:close!   强制关闭当前窗口
:q       退出，不保存
:q!      强制退出，不保存
:x       保存退出
:wq      保存退出
:wq!     强制保存退出
:w <[路径/]文件名>        另存为
:savesa <[路径/]文件名>   另存为
ZZ 保存并退出。
:only    关闭所有窗口，只保留当前窗口(前提：其他窗口内容有改变的话都要先保存)
:only!   关闭所有窗口，只保留当前窗口
:qall 放弃所有操作并退出
:wall 保存所有，
:wqall 保存所有并退出。

17、文档加密
vim -x file_name
然后输入密码：
确认密码：
如果不修改内容也要保存。:wq，不然密码设定不会生效。

18、录制宏
按q键加任意字母开始录制，再按q键结束录制（这意味着vim中的宏不可嵌套），使用的时候@加宏名，比如qa。。。q录制名为a的宏，@a使用这个宏。

19、执行命令
# 重复前一次命令
. 
# 执行shell命令
:!command
# 比如列出当前目录下文件
:!ls 
# 执行脚本
:!perl -c script.pl 检查perl脚本语法，可以不用退出vim，非常方便。
:!perl script.pl 执行perl脚本，可以不用退出vim，非常方便。
:suspend或Ctrl - Z 挂起vim，回到shell，按fg可以返回vim。

20、帮助命令
在Unix/Linux系统上
$ vimtutor
# 普通模式下
键盘输入vim或F1
# 命令行模式下
:help     显示整个帮助
:help xxx 显示xxx的帮助，比如 :help i, :help CTRL-[（即Ctrl+[的帮助）。
:help 'number' Vim选项的帮助用单引号括起
在Windows系统上
:help tutor

21、配置命令
显示当前设定
:set或者:se显示所有修改过的配置
:set all 显示所有的设定值
:set option? 显示option的设定值
:set nooption 取消当期设定值
:ver   显示vim的所有信息（包括版本和参数等）
# 需要注意：全屏模式下
:args   查看当前打开的文件列表，当前正在编辑的文件会用[]括起来
更改设定
:set nu   显示行号
set autoindent(ai)   设置自动缩进
set autowrite(aw)    设置自动存档，默认未打开
set backup(bk) 设置自动备份，默认未打开
set background=dark或light，设置背景风格
set cindent(cin) 设置C语言风格缩进
:set ts=4   设置tab键转换为4个空格
:set ff=unix   # 修改文件dos文件为unix
:set shiftwidth?   查看缩进值
:set shiftwidth=4  设置缩进值为4
:set ignorecase　　忽略大小写的查找
:set noignorecase　　不忽略大小写的查找
:set paste  # insert模式下，粘贴格式不会乱掉
:set ruler?　　查看是否设置了ruler，在.vimrc中，使用set命令设制的选项都可以通过这个命令查看
:scriptnames　　查看vim脚本文件的位置，比如.vimrc文件，语法文件及plugin等。
:set list 显示非打印字符，如tab，空格，行尾等。如果tab无法显示，请确定用set lcs=tab:>-命令设置了.vimrc文件，并确保你的文件中的确有tab，如果开启了expendtab，那么tab将被扩展为空格。
:syntax        列出已经定义的语法项
:syntax clear  清除已定义的语法规则
:syntax case match    大小写敏感，int和Int将视为不同的语法元素
:syntax case ignore   大小写无关，int和Int将视为相同的语法元素，并使用同样的配色方案


******************** vim  配置 ************************************
vim配置
1) 首先安装 vim 完整版本
#sudo apt-get install vim-full
2) vim中文在线帮助
a. 先下载文档 vimcdoc-1.5.0.tar.gz
b. 解压, 执行./vimcdoc.sh, vi里面, 执行:help, 就都是中文的了.
3) 启用本地配置 VIM version 7.1 (说明文档)
#cp etc/vim/vimrc ~/.vimrc
#vim ~/.vimrc

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" 一般设定
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" 设定默认解码
set fenc=utf-8
set fencs=utf-8,usc-bom,euc-jp,gb18030,gbk,gb2312,cp936
" 不要使用vi的键盘模式，而是vim自己的
set nocompatible
" history文件中需要记录的行数
set history=100
" 在处理未保存或只读文件的时候，弹出确认
set confirm
" 与windows共享剪贴板
set clipboard+=unnamed
" 侦测文件类型
filetype on
" 载入文件类型插件
filetype plugin on
" 为特定文件类型载入相关缩进文件
filetype indent on
" 保存全局变量
set viminfo+=!
" 带有如下符号的单词不要被换行分割
set iskeyword+=_,$,@,%,#,-
" 语法高亮
syntax on
" 高亮字符，让其不受100列限制
:highlight OverLength ctermbg=red ctermfg=white guibg=red guifg=white
:match OverLength ‘\%101v.*’
" 状态行颜色
highlight StatusLine guifg=SlateBlue guibg=Yellow
highlight StatusLineNC guifg=Gray guibg=White
“""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" 文件设置
“""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" 不要备份文件（根据自己需要取舍）
set nobackup
" 不要生成swap文件，当buffer被丢弃的时候隐藏它
setlocal noswapfile
set bufhidden=hide
" 字符间插入的像素行数目
set linespace=0
" 增强模式中的命令行自动完成操作
set wildmenu
" 在状态行上显示光标所在位置的行号和列号
set ruler
set rulerformat=%20(%2*%<%f%=\ %m%r\ %3l\ %c\ %p%%%)
" 命令行（在状态行下）的高度，默认为1，这里是2
set cmdheight=2
" 使回格键（backspace）正常处理indent, eol, start等
set backspace=2
" 允许backspace和光标键跨越行边界
set whichwrap+=<,>,h,l
" 可以在buffer的任何地方使用鼠标（类似office中在工作区双击鼠标定位）
set mouse=a
set selection=exclusive
set selectmode=mouse,key
" 启动的时候不显示那个援助索马里儿童的提示
set shortmess=atI
" 通过使用: commands命令，告诉我们文件的哪一行被改变过
set report=0
" 不让vim发出讨厌的滴滴声
set noerrorbells
" 在被分割的窗口间显示空白，便于阅读
set fillchars=vert:\ ,stl:\ ,stlnc:\
" 搜索和匹配
" 高亮显示匹配的括号
set showmatch
" 匹配括号高亮的时间（单位是十分之一秒）
set matchtime=5
" 在搜索的时候忽略大小写
set ignorecase
" 不要高亮被搜索的句子（phrases）
set nohlsearch
" 在搜索时，输入的词句的逐字符高亮（类似firefox的搜索）
set incsearch
" 输入:set list命令是应该显示些啥？
set listchars=tab:\|\ ,trail:.,extends:>,precedes:<,eol:$
" 光标移动到buffer的顶部和底部时保持3行距离
set scrolloff=3
" 不要闪烁
set novisualbell
" 我的状态行显示的内容（包括文件类型和解码）
set statusline=%F%m%r%h%w\ [FORMAT=%{&ff}]\ [TYPE=%Y]\ [POS=%l,%v][%p%%]\ %{strftime(\"%d/%m/%y\ -\ %H:%M\")}
" 总是显示状态行
set laststatus=2
“""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" 文本格式和排版
“""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" 自动格式化
set formatoptions=tcrqn
" 继承前一行的缩进方式，特别适用于多行注释
set autoindent
" 为C程序提供自动缩进
set smartindent
" 使用C样式的缩进
set cindent
" 制表符为4
set tabstop=4
" 统一缩进为4
set softtabstop=4
set shiftwidth=4
" 不要用空格代替制表符
set noexpandtab
" 不要换行
set nowrap
" 在行和段开始处使用制表符
set smarttab
“""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" CTags的设定
“""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" 按照名称排序
let Tlist_Sort_Type = “name"
" 在右侧显示窗口
let Tlist_Use_Right_Window = 1
" 压缩方式
let Tlist_Compart_Format = 1
" 如果只有一个buffer，kill窗口也kill掉buffer
let Tlist_Exist_OnlyWindow = 1
" 不要关闭其他文件的tags
let Tlist_File_Fold_Auto_Close = 0
" 不要显示折叠树
let Tlist_Enable_Fold_Column = 0
“""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Autocommands
“""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" 只在下列文件类型被侦测到的时候显示行号，普通文本文件不显示
if has("autocmd")
autocmd FileType xml,html,c,cs,java,perl,shell,bash,cpp,python,vim,php,ruby set number
autocmd FileType xml,html vmap

==========================================VIM ==============================

# 打开单个文件
vim file    
# 同时打开多个文件
vim file1 file2..  
# 在vim窗口中打开一个新文件
:open [file]       
【举个例子】
# 当前打开1.txt，做了一些编辑没保存
:open!         放弃这些修改，并重新打开未修改的文件
# 当前打开1.txt，做了一些编辑并保存
:open 2.txt    直接退出对1.txt的编辑，直接打开2.txt编辑，省了退出:wq再重新vim 2.txt的步骤
# 打开远程文件，比如ftp或者share folder
:e ftp://192.168.10.76/abc.txt
:e \qadrive\test\1.txt
# 以只读形式打开文件，但是仍然可以使用 :wq! 写入
vim -R file 
# 强制性关闭修改功能，无法使用 :wq! 写入
vim -M file 

3、插入命令
i 在当前位置生前插入
I 在当前行首插入
a 在当前位置后插入
A 在当前行尾插入
o 在当前行之后插入一行
O 在当前行之前插入一行

4、查找命令
最简单的查找
/text　　查找text，按n健查找下一个，按N健查找前一个。
?text　　查找text，反向查找，按n健查找下一个，按N健查找前一个。
vim中有一些特殊字符在查找时需要转义　　.*[]^%/?~$
:set ignorecase　　忽略大小写的查找
:set noignorecase　　不忽略大小写的查找
快速查找，不需要手打字符即可查找
*        向后（下）寻找游标所在处的单词
#        向前（上）寻找游标所在处的单词
以上两种查找，n,N 的继续查找命令依然可以适用
精准查找：匹配单词查找
如果文本中有这三个单词
hellohelloworldhellopython
那我使用 /hello ，这三个词都会匹配到。
有没有办法实现精准查找呢？你可以使用
/hello\>
精准查找：匹配行首、行末
# hello位于行首
/^hello
# world位于行末
/world$

5、替换命令
~  反转游标字母大小写
r<字母>           将当前字符替换为所写字母
R<字母><字母>...  连续替换字母
cc    替换整行（就是删除当前行，并在下一行插入）
cw    替换一个单词（就是删除一个单词，就进入插入模式），前提是游标处于单词第一个字母（可用b定位）
C     (大写C)替换至行尾（和D有所区别，D是删除（剪切）至行尾，C是删除至行位并进入插入模式）
:s/old/new/    用old替换new，替换当前行的第一个匹配
:s/old/new/g   用old替换new，替换当前行的所有匹配
:%s/old/new/   用old替换new，替换所有行的第一个匹配
:%s/old/new/g  用old替换new，替换整个文件的所有匹配
:10,20 s/^/ /g 在第10行至第20行每行前面加四个空格，用于缩进。
ddp    交换光标所在行和其下紧邻的一行。

6、撤销与重做
u 撤销（Undo）
U 撤销对整行的操作
Ctrl + r 重做（Redo），即撤销的撤销。

7、删除命令
需要说明的是，vim 其实并没有单纯的删除命令，下面你理解为剪切更加准确。
以字符为单位删除
x   删除当前字符
3x  删除当前字符3次
X   删除当前字符的前一个字符。
3X  删除当前光标向前三个字符
dl  删除当前字符， dl=x
dh  删除前一个字符，X=dh
D   删除当前字符至行尾。D=d$
d$  删除当前字符至行尾
d^  删除当前字符之前至行首
以单词为单位删除
dw  删除当前字符到单词尾
daw 删除当前字符所在单词
以行为单位删除
dd  删除当前行
dj  删除下一行
dk  删除上一行
dgg  删除当前行至文档首部
d1G  删除当前行至文档首部
dG   删除当前行至文档尾部
kdgg  删除当前行之前所有行（不包括当前行）
jdG   删除当前行之后所有行（不包括当前行）
10d     删除当前行开始的10行。
:1,10d  删除1-10行
:11,$d  删除11行及以后所有的行
:1,$d   删除所有行
J　　   删除两行之间的空行，实际上是合并两行。

8、复制粘贴
普通模式中使用y复制
yy   复制游标所在的整行（3yy表示复制3行）
y^   复制至行首，或y0。不含光标所在处字符。
y$   复制至行尾。含光标所在处字符。
yw   复制一个单词。
y2w  复制两个单词。
yG   复制至文本末。
y1G  复制至文本开头。
普通模式中使用p粘贴
p(小写)：代表粘贴至光标后（下边，右边）
P(大写)：代表粘贴至光标前（上边，左边）

9、剪切粘贴
dd    其实就是剪切命令，剪切当前行
ddp   剪切当前行并粘贴，可实现当前行和下一行调换位置
正常模式下按v（逐字）或V（逐行）进入可视模式
然后用jklh命令移动即可选择某些行或字符，再按d即可剪切
ndd 剪切当前行之后的n行。利用p命令可以对剪切的内容进行粘贴
:1,10d 将1-10行剪切。利用p命令可将剪切后的内容进行粘贴。
:1, 10 m 20 将第1-10行移动到第20行之后。

10、退出保存
:wq 保存并退出
ZZ 保存并退出
:q! 强制退出并忽略所有更改
:e! 放弃所有修改，并打开原来文件。
ZZ 保存并退出
:sav(eas) new.txt  另存为一个新文件，退出原文件的编辑且不会保存
:f(ile) new.txt    新开一个文件，并不保存，退出原文件的编辑且不会保存

11、移动命令
以字符为单位移动
h   左移一个字符
l   右移一个字符
k   上移一个字符
j   下移一个字符
# 【定位字符】f和F
fx    找到光标后第一个为x的字符
3fd   找到光标后第三个为d的字符
F   同f，反向查找。
以行为单位移动
# 10指代所有数字，可任意指定
10h  左移10个字符
10l  右移10个字符
10k  上移10行
10j  下移10行
$   移动到行尾 
3$  移动到下面3行的行尾
以单词为单位移动
w  向前移动一个单词（光标停在单词首部）
b  向后移动一个单词
e，同w，只不过是光标停在单词尾部
ge 同b，光标停在单词尾部。
以句为单位移动
(   移动到句首
)   移动到句尾
跳转到文件的首尾
gg  移动到文件头。 = [[  == ``
G   移动到文件尾。 = ]]
其他移动方法
^   移动到本行第一个非空白字符上。
0   移动到本行第一个字符上(可以是空格)
使用 具名标记 跳转，个人感觉这个很好用，因为可以跨文件。
使用 ma ，可以将此处标记为 a，使用 'a 进行跳转
使用 :marks 可以查看所有的标记
使用 :delm！可以删除所有的标记
当在查看错误日志时，正常的步骤是，vim打开文件，然后使用 shift+g  再跳转到最后一行，这里有个更简单的操作可以在打开文件时立即跳到最后一行。只要在 vim 和 文件 中间加个 + 即可。
vim + you.log
举一反三，当你想打开文件立即跳转到指定行时，可以这样
# 打开文件并跳转到 20 行
vim you.log +20
当你使用 / 搜索定位跳转或者使用 :行号 进行精准跳转时，有时我们想返回到上一次的位置，如何实现？
只要使用 Ctrl+o 即可返回上一次的位置。

12、排版功能
缩进
:set shiftwidth?   查看缩进值
:set shiftwidth=4  设置缩进值为4
# 缩进相关 最好写到配置文件中  ~/.vimrc
:set tabstop=4
:set softtabstop=4
:set shiftwidth=4
:set expandtab
>>   向右缩进
<<   取消缩进
如何你要对代码进行缩进，还可以用 == 对当前行缩进，如果要对多行对待缩进，则使用 n==，这种方式要求你所编辑的文件的扩展名是被vim所识别的，比如.py文件。
排版
:ce   居中
:le   靠左
:ri   靠右

13、注释命令
多行注释
进入命令行模式，按ctrl + v进入 visual block模式，然后按j, 或者k选中多行，把需要注释的行标记起来
按大写字母I，再插入注释符，例如//
按esc键就会全部注释了
取消多行注释
进入命令行模式，按ctrl + v进入 visual block模式，按字母l横向选中列的个数，例如 // 需要选中2列
按字母j，或者k选中注释符号
按d键就可全部取消注释
复杂注释
:3,5 s/^/#/g 注释第3-5行
:3,5 s/^#//g 解除3-5行的注释
:1,$ s/^/#/g 注释整个文档
:1,$ s/^#//g 取消注释整个文档
:%s/^/#/g 注释整个文档，此法更快
:%s/^#//g 取消注释整个文档

14、调整视野
"zz"：命令会把当前行置为屏幕正中央，
"zt"：命令会把当前行置于屏幕顶端
"zb"：则把当前行置于屏幕底端.
Ctrl + e 向下滚动一行
Ctrl + y 向上滚动一行
Ctrl + d 向下滚动半屏
Ctrl + u 向上滚动半屏
Ctrl + f 向下滚动一屏
Ctrl + b 向上滚动一屏
【跳到指定行】：两种方法
可以先把行号打开
:set nu  打开行号
:20    跳到第20行
20G    跳到第20行

15、区域选择
要进行区域选择，要先进入可视模式
v   以字符为单位，上下左右选择
V   以行为单位，上下选择
选择后可进行操作
d   剪切/删除
y   复制
Ctrl+v   如果当前是V(大写)模式，就变成v(小写)
         如果当前是v(小写)模式，就变成普通模式。
         如果当前是普通模式，就进入v(小写)模式
利用这个，可以进行多行缩进。
ggVG   选择全文

16、窗口控制
新建窗口
# 打开两个文件分属两个窗口
vim -o 1.txt 2.txt
# 假设现在已经打开了1.txt
:sp 2.txt   开启一个横向的窗口，编辑2.txt
:vsp 2.txt  开启一个竖向的窗口，编辑2.txt
:split        将当前窗口再复制一个窗口出来，内容同步，游标可以不同
:split 2.txt  在新窗口打开2.txt的横向窗口
# 需要注意：内容同步，但是游标位置是独立的
Ctrl-w s    将当前窗口分成水平窗口
Ctrl-w v    将当前窗口分成竖直窗口
Ctrl-w q    等同:q 结束分割出来的视窗。
Ctrl-w q!   等同:q! 结束分割出来的视窗。
Ctrl-w o    打开一个视窗并且隐藏之前的所有视窗
窗口切换
，如下：
# 特别说明：Ctrl w <字母> 不需要同时按
Ctrl-w h    切换到左边窗口
Ctrl-w l    切换到右边窗口
Ctrl-w j    切换到下边窗口
Ctrl-w k    切换到上边窗口
# 特别说明：全屏模式下
:n    切换下一个窗口
:N    切换上一个窗口
:bp   切换上一个窗口
# 特别说明：非全屏模式
:bn    切换下一个窗口，就当前位置的窗口的内容变了，其他窗口不变
:bN    切换上一个窗口，就当前位置的窗口的内容变了，其他窗口不变
窗口移动
# 特别说明：Ctrl w <字母> 不需要同时按
Ctrl-w J   将当前视窗移至最下面
Ctrl-w K   将当前视窗移最上面
Ctrl-w H   将当前视窗移至最左边
Ctrl-w L   将当前视窗移至最右边
Ctrl-ww    按顺序切换窗口
调整尺寸
# 友情提示：键盘切记不要处于中文状态
Ctrl-w +   增加窗口高度
Ctrl-w -   减少窗口高度
退出窗口
:close    关闭当前窗口
:close!   强制关闭当前窗口
:q       退出，不保存
:q!      强制退出，不保存
:x       保存退出
:wq      保存退出
:wq!     强制保存退出
:w <[路径/]文件名>        另存为
:savesa <[路径/]文件名>   另存为
ZZ 保存并退出。
:only    关闭所有窗口，只保留当前窗口(前提：其他窗口内容有改变的话都要先保存)
:only!   关闭所有窗口，只保留当前窗口
:qall 放弃所有操作并退出
:wall 保存所有，
:wqall 保存所有并退出。

17、文档加密
vim -x file_name
然后输入密码：
确认密码：
如果不修改内容也要保存。:wq，不然密码设定不会生效。

18、录制宏
按q键加任意字母开始录制，再按q键结束录制（这意味着vim中的宏不可嵌套），使用的时候@加宏名，比如qa。。。q录制名为a的宏，@a使用这个宏。

19、执行命令
# 重复前一次命令
. 
# 执行shell命令
:!command
# 比如列出当前目录下文件
:!ls 
# 执行脚本
:!perl -c script.pl 检查perl脚本语法，可以不用退出vim，非常方便。
:!perl script.pl 执行perl脚本，可以不用退出vim，非常方便。
:suspend或Ctrl - Z 挂起vim，回到shell，按fg可以返回vim。

20、帮助命令
在Unix/Linux系统上
$ vimtutor
# 普通模式下
键盘输入vim或F1
# 命令行模式下
:help     显示整个帮助
:help xxx 显示xxx的帮助，比如 :help i, :help CTRL-[（即Ctrl+[的帮助）。
:help 'number' Vim选项的帮助用单引号括起
在Windows系统上
:help tutor

21、配置命令
显示当前设定
:set或者:se显示所有修改过的配置
:set all 显示所有的设定值
:set option? 显示option的设定值
:set nooption 取消当期设定值
:ver   显示vim的所有信息（包括版本和参数等）
# 需要注意：全屏模式下
:args   查看当前打开的文件列表，当前正在编辑的文件会用[]括起来
更改设定
:set nu   显示行号
set autoindent(ai)   设置自动缩进
set autowrite(aw)    设置自动存档，默认未打开
set backup(bk) 设置自动备份，默认未打开
set background=dark或light，设置背景风格
set cindent(cin) 设置C语言风格缩进
:set ts=4   设置tab键转换为4个空格
:set ff=unix   # 修改文件dos文件为unix
:set shiftwidth?   查看缩进值
:set shiftwidth=4  设置缩进值为4
:set ignorecase　　忽略大小写的查找
:set noignorecase　　不忽略大小写的查找
:set paste  # insert模式下，粘贴格式不会乱掉
:set ruler?　　查看是否设置了ruler，在.vimrc中，使用set命令设制的选项都可以通过这个命令查看
:scriptnames　　查看vim脚本文件的位置，比如.vimrc文件，语法文件及plugin等。
:set list 显示非打印字符，如tab，空格，行尾等。如果tab无法显示，请确定用set lcs=tab:>-命令设置了.vimrc文件，并确保你的文件中的确有tab，如果开启了expendtab，那么tab将被扩展为空格。
:syntax        列出已经定义的语法项
:syntax clear  清除已定义的语法规则
:syntax case match    大小写敏感，int和Int将视为不同的语法元素
:syntax case ignore   大小写无关，int和Int将视为相同的语法元素，并使用同样的配色方案
